          <h1 id="uploads">アップロード</h1>&#13;
&#13;
<p>Files can be uploaded to our servers and used as file attachments
in <a href="#notes">Notes</a>.</p>&#13;
&#13;
<h2 id="upload-a-file">ファイルをアップロードする</h2>&#13;
&#13;
<blockquote>&#13;
<p>On success, an HTTP 200 OK with JSON data of file data is returned:</p>&#13;
</blockquote>&#13;
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>curl https://api.todoist.com/sync/v8/uploads/add <span class="se">\</span>
    <span class="nt">-F</span> <span class="nv">token</span><span class="o">=</span>0123456789abcdef0123456789abcdef01234567 <span class="se">\</span>
    <span class="nt">-F</span> <span class="nv">file_name</span><span class="o">=</span>example.jpg <span class="se">\</span>
    <span class="nt">-F</span> <span class="nv">file</span><span class="o">=</span>@/path/to/example.jpg

<span class="o">{</span>
  <span class="s2">"file_name"</span>: <span class="s2">"example.jpg"</span>,
  <span class="s2">"file_size"</span>: 85665,
  <span class="s2">"file_type"</span>: <span class="s2">"image/jpeg"</span>,
  <span class="s2">"file_url"</span>: <span class="s2">"https://*.cloudfront.net/*/example.jpg"</span>,
  <span class="s2">"tn_l"</span>: <span class="o">[</span>
    <span class="s2">"https://*.cloudfront.net/tn_l_*.jpg"</span>,
    400, 309
  <span class="o">]</span>,
  <span class="s2">"tn_m"</span>: <span class="o">[</span>
    <span class="s2">"https://*.cloudfront.net/tn_m_*.jpg"</span>,
    288, 222
  <span class="o">]</span>,
  <span class="s2">"tn_s"</span>: <span class="o">[</span>
    <span class="s2">"https://*.cloudfront.net/tn_s_*.jpg"</span>,
    96, 74
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">todoist</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">api</span> <span class="o">=</span> <span class="n">todoist</span><span class="o">.</span><span class="n">TodoistAPI</span><span class="p">(</span><span class="s">'0123456789abcdef0123456789abcdef01234567'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">api</span><span class="o">.</span><span class="n">uploads</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">'example.jpg'</span><span class="p">)</span>
<span class="p">{</span>
  <span class="s">'file_name'</span><span class="p">:</span> <span class="s">'example.jpg'</span><span class="p">,</span>
  <span class="s">'file_size'</span><span class="p">:</span> <span class="mi">85665</span><span class="p">,</span>
  <span class="s">'file_type'</span><span class="p">:</span> <span class="s">'image/jpeg'</span><span class="p">,</span>
  <span class="s">'file_url'</span><span class="p">:</span> <span class="s">'https://*.cloudfront.net/*/example.jpg'</span><span class="p">,</span>
  <span class="s">'tn_l'</span><span class="p">:</span> <span class="p">[</span>
    <span class="s">'https://*.cloudfront.net/tn_l_*.jpg'</span><span class="p">,</span>
    <span class="mi">400</span><span class="p">,</span> <span class="mi">309</span>
  <span class="p">],</span>
  <span class="s">'tn_m'</span><span class="p">:</span> <span class="p">[</span>
    <span class="s">'https://*.cloudfront.net/tn_m_*.jpg'</span><span class="p">,</span>
    <span class="mi">288</span><span class="p">,</span> <span class="mi">222</span>
  <span class="p">],</span>
  <span class="s">'tn_s'</span><span class="p">:</span> <span class="p">[</span>
    <span class="s">'https://*.cloudfront.net/tn_s_*.jpg'</span><span class="p">,</span>
    <span class="mi">96</span><span class="p">,</span> <span class="mi">74</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>&#13;
<p>Upload a file suitable to be passed as a <code class="prettyprint">file_attachment</code> attribute to the
<code class="prettyprint">note_add</code> or <code class="prettyprint">note_update</code> calls.</p>&#13;
&#13;
<h3 id="parameters">パラメータ一覧</h3>&#13;
&#13;
<table><thead>&#13;
<tr>&#13;
<th>パラメータ</th>&#13;
<th>要求</th>&#13;
<th>説明</th>&#13;
</tr>&#13;
</thead><tbody>&#13;
<tr>&#13;
<td>file_name <em>String</em></td>&#13;
<td>Yes</td>&#13;
<td>The file name to be uploaded.</td>&#13;
</tr>&#13;
</tbody></table>&#13;
&#13;
<h3 id="base-file-properties">Base file properties</h3>&#13;
&#13;
<table><thead>&#13;
<tr>&#13;
<th>Attribute</th>&#13;
<th>説明</th>&#13;
</tr>&#13;
</thead><tbody>&#13;
<tr>&#13;
<td>file_name <em>String</em></td>&#13;
<td>The name of the file.</td>&#13;
</tr>&#13;
<tr>&#13;
<td>file_size <em>Integer</em></td>&#13;
<td>The size of the file in bytes.</td>&#13;
</tr>&#13;
<tr>&#13;
<td>file_type <em>String</em></td>&#13;
<td>MIME type (i.e. <code class="prettyprint">text/plain</code>, <code class="prettyprint">image/png</code>).</td>&#13;
</tr>&#13;
<tr>&#13;
<td>file_url <em>String</em></td>&#13;
<td>The URL where the file is located (a string value representing an HTTP URL). Note that we don’t cache the remote content on our servers and stream or expose files directly from third party resources. In particular this means that you should avoid providing links to non-encrypted (plain HTTP) resources, as exposing this files in Todoist may issue a browser warning.</td>&#13;
</tr>&#13;
<tr>&#13;
<td>upload_state <em>String</em></td>&#13;
<td>Upload completion state (either <code class="prettyprint">pending</code> or <code class="prettyprint">completed</code>).</td>&#13;
</tr>&#13;
</tbody></table>&#13;
&#13;
<h3 id="image-file-properties">Image file properties</h3>&#13;
&#13;
<p>If you upload an image, you may provide thumbnail paths to ensure Todoist
handles them appropriately. Valid thumbnail information is a JSON array with
URL, width in pixels, height in pixels. Ex.:
<code class="prettyprint">["http://example.com/img.jpg",400,300]</code>. “Canonical” thumbnails (ones we create
by <code class="prettyprint">uploads/add</code> API call) have following sizes: <code class="prettyprint">96x96</code>, <code class="prettyprint">288x288</code>, <code class="prettyprint">528x528</code>.</p>&#13;
&#13;
<table><thead>&#13;
<tr>&#13;
<th>Attribute</th>&#13;
<th>説明</th>&#13;
</tr>&#13;
</thead><tbody>&#13;
<tr>&#13;
<td>tn_l <em>List</em></td>&#13;
<td>Large thumbnail (a list that contains the URL, the width and the height of the thumbnail).</td>&#13;
</tr>&#13;
<tr>&#13;
<td>tn_m <em>List</em></td>&#13;
<td>Medium thumbnail (a list that contains the URL, the width and the height of the thumbnail).</td>&#13;
</tr>&#13;
<tr>&#13;
<td>tn_s <em>List</em></td>&#13;
<td>Small thumbnail (a list that contains the URL, the width and the height of the thumbnail).</td>&#13;
</tr>&#13;
</tbody></table>&#13;
&#13;
<h3 id="audio-file-properties">Audio file properties</h3>&#13;
&#13;
<p>If you upload an audio file, you may provide an extra attribute <code class="prettyprint">file_duration</code>
(duration of the audio file in seconds, which takes an integer value). In the
web interface the file is rendered back with a <code class="prettyprint">&lt;audio&gt;</code> tag, so you should make
sure it’s supported in current web
browsers. See
<a href="https://developer.mozilla.org/en-US/docs/HTML/Supported_media_formats">supported media formats</a> for
the reference.</p>&#13;
&#13;
<h2 id="get-uploads">アップロードしたものを取得する</h2>&#13;
&#13;
<blockquote>&#13;
<p>An example of getting the user’s uploads</p>&#13;
</blockquote>&#13;
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>curl https://api.todoist.com/sync/v8/uploads/get <span class="se">\</span>
    <span class="nt">-d</span> <span class="nv">token</span><span class="o">=</span>0123456789abcdef0123456789abcdef01234567
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"file_size"</span>: 86406,
        <span class="s2">"file_type"</span>: <span class="s2">"image/jpeg"</span>,
        <span class="s2">"file_url"</span>: <span class="s2">"https://*.cloudfront.net/*/example.jpg"</span>,
        <span class="s2">"filename"</span>: <span class="s2">"example.jpg"</span>,
        <span class="s2">"id"</span>: 34xx,
        <span class="s2">"ip"</span>: <span class="s2">"8.8.8.x"</span>,
        <span class="s2">"item_id"</span>: 26166xxxxxx,
        <span class="s2">"note_id"</span>: 6157xxxxxx,
        <span class="s2">"project_id"</span>: 156996xxxxxx,
        <span class="s2">"uploaded"</span>: <span class="s2">"2015-12-16T13:18:17Z"</span>,
        <span class="s2">"user_id"</span>: 5713xxxxxx
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"file_size"</span>: 312,
        <span class="s2">"file_type"</span>: <span class="s2">"text/plain"</span>,
        <span class="s2">"file_url"</span>: <span class="s2">"https://*.cloudfront.net/*/todo.txt"</span>,
        <span class="s2">"filename"</span>: <span class="s2">"todo.txt"</span>,
        <span class="s2">"id"</span>: 34xx,
        <span class="s2">"ip"</span>: <span class="s2">"2.86.104.243"</span>,
        <span class="s2">"item_id"</span>: 26166xxxxxx,
        <span class="s2">"note_id"</span>: 6157xxxxxx,
        <span class="s2">"project_id"</span>: 156996xxxxxx,
        <span class="s2">"uploaded"</span>: <span class="s2">"2015-12-16T12:08:14Z"</span>,
        <span class="s2">"user_id"</span>: 5713xxxxxx
    <span class="o">}</span>
<span class="o">]</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">todoist</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">api</span> <span class="o">=</span> <span class="n">todoist</span><span class="o">.</span><span class="n">TodoistAPI</span><span class="p">(</span><span class="s">'0123456789abcdef0123456789abcdef01234567'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">api</span><span class="o">.</span><span class="n">uploads</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="p">[</span>
    <span class="p">{</span>
        <span class="s">"file_size"</span><span class="p">:</span> <span class="mi">86406</span><span class="p">,</span>
        <span class="s">"file_type"</span><span class="p">:</span> <span class="s">"image/jpeg"</span><span class="p">,</span>
        <span class="s">"file_url"</span><span class="p">:</span> <span class="s">"https://*.cloudfront.net/*/example.jpg"</span><span class="p">,</span>
        <span class="s">"filename"</span><span class="p">:</span> <span class="s">"example.jpg"</span><span class="p">,</span>
        <span class="s">"id"</span><span class="p">:</span> <span class="mi">34</span><span class="n">xx</span><span class="p">,</span>
        <span class="s">"ip"</span><span class="p">:</span> <span class="s">"8.8.8.x"</span><span class="p">,</span>
        <span class="s">"item_id"</span><span class="p">:</span> <span class="mi">26166</span><span class="n">xxxxxx</span><span class="p">,</span>
        <span class="s">"note_id"</span><span class="p">:</span> <span class="mi">6157</span><span class="n">xxxxxx</span><span class="p">,</span>
        <span class="s">"project_id"</span><span class="p">:</span> <span class="mi">156996</span><span class="n">xxxxxx</span><span class="p">,</span>
        <span class="s">"uploaded"</span><span class="p">:</span> <span class="s">"2015-12-16T13:18:17Z"</span><span class="p">,</span>
        <span class="s">"user_id"</span><span class="p">:</span> <span class="mi">5713</span><span class="n">xxxxxx</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s">"file_size"</span><span class="p">:</span> <span class="mi">312</span><span class="p">,</span>
        <span class="s">"file_type"</span><span class="p">:</span> <span class="s">"text/plain"</span><span class="p">,</span>
        <span class="s">"file_url"</span><span class="p">:</span> <span class="s">"https://*.cloudfront.net/*/todo.txt"</span><span class="p">,</span>
        <span class="s">"filename"</span><span class="p">:</span> <span class="s">"todo.txt"</span><span class="p">,</span>
        <span class="s">"id"</span><span class="p">:</span> <span class="mi">34</span><span class="n">xx</span><span class="p">,</span>
        <span class="s">"ip"</span><span class="p">:</span> <span class="s">"2.86.104.243"</span><span class="p">,</span>
        <span class="s">"item_id"</span><span class="p">:</span> <span class="mi">26166</span><span class="n">xxxxxx</span><span class="p">,</span>
        <span class="s">"note_id"</span><span class="p">:</span> <span class="mi">6157</span><span class="n">xxxxxx</span><span class="p">,</span>
        <span class="s">"project_id"</span><span class="p">:</span> <span class="mi">156996</span><span class="n">xxxxxx</span><span class="p">,</span>
        <span class="s">"uploaded"</span><span class="p">:</span> <span class="s">"2015-12-16T12:08:14Z"</span><span class="p">,</span>
        <span class="s">"user_id"</span><span class="p">:</span> <span class="mi">5713</span><span class="n">xxxxxx</span>
    <span class="p">}</span>
<span class="p">]</span>
</code></pre></div>&#13;
<p>全てのユーザーのアップロードしたものを取得する。</p>&#13;
&#13;
<h3 id="parameters">パラメータ一覧</h3>&#13;
&#13;
<table><thead>&#13;
<tr>&#13;
<th>パラメータ</th>&#13;
<th>要求</th>&#13;
<th>説明</th>&#13;
</tr>&#13;
</thead><tbody>&#13;
<tr>&#13;
<td>limit <em>Integer</em></td>&#13;
<td>No</td>&#13;
<td>The number of items to return (a number, where the default is <code class="prettyprint">30</code>, and the maximum is <code class="prettyprint">50</code>).</td>&#13;
</tr>&#13;
<tr>&#13;
<td>last_id <em>Integer</em></td>&#13;
<td>No</td>&#13;
<td>Can be used for pagination. This should be the minimum upload id you’ve fetched so far. All results will be listed before that id.</td>&#13;
</tr>&#13;
</tbody></table>&#13;
&#13;
<h2 id="delete-upload">アップロードしたものを削除する</h2>&#13;
&#13;
<blockquote>&#13;
<p>An example of deleting an upload</p>&#13;
</blockquote>&#13;
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>curl https://api.todoist.com/sync/v8/uploads/delete <span class="se">\</span>
    <span class="nt">-d</span> <span class="nv">token</span><span class="o">=</span>0123456789abcdef0123456789abcdef01234567 <span class="se">\</span>
    <span class="nt">-d</span> <span class="nv">file_url</span><span class="o">=</span><span class="s1">'https://*.cloudfront.net/*/example.jpg'</span>

<span class="s2">"ok"</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">todoist</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">api</span> <span class="o">=</span> <span class="n">todoist</span><span class="o">.</span><span class="n">TodoistAPI</span><span class="p">(</span><span class="s">'0123456789abcdef0123456789abcdef01234567'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">api</span><span class="o">.</span><span class="n">uploads</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">'https://*.cloudfront.net/*/example.jpg'</span><span class="p">)</span>
<span class="n">ok</span>
</code></pre></div>&#13;
<p>アップロードしたファイルを削除する</p>&#13;
&#13;
<h3 id="parameters">パラメータ一覧</h3>&#13;
&#13;
<table><thead>&#13;
<tr>&#13;
<th>パラメータ</th>&#13;
<th>要求</th>&#13;
<th>説明</th>&#13;
</tr>&#13;
</thead><tbody>&#13;
<tr>&#13;
<td>file_url <em>String</em></td>&#13;
<td>Yes</td>&#13;
<td>The file URL to delete.</td>&#13;
</tr>&#13;
</tbody></table>&#13;
&#13;
